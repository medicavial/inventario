<div layout="column" class="white" ng-init="inicio()">

  <md-whiteframe class="md-whiteframe-4dp">
    
    <form name="proveedorForm" novalidate ng-submit="guardar()">

    <div layout="row">
      <md-subheader class="md-primary" flex>Datos</md-subheader>
      <md-button class="md-icon-button" aria-label="More" ng-click="inicio()">
          <md-tooltip md-direction="bottom">
            Limpiar
          </md-tooltip>
        <ng-md-icon icon="refresh" style="fill:gray" aria-label="Limpiar Datos"></ng-md-icon> 
      </md-button>
    </div>

    <md-content layout-padding>
      
      <div layout="column" class="no-padding">
        
        <md-input-container>
          <label>Nombre</label>
          <input required name="nombre" ng-model="datos.nombre" mayusculas>
          <div ng-messages="proveedorForm.nombre.$error" ng-if="proveedorForm.$submitted">
            <div ng-message="required">Campo obligatorio.</div>
          </div>
        </md-input-container>

        <md-input-container>
          <label>Razon Social</label>
          <input name="razon" ng-model="datos.razon" mayusculas>
          <div ng-messages="proveedorForm.razon.$error" ng-if="proveedorForm.$submitted">
            <div ng-message="required">Campo obligatorio.</div>
          </div>
        </md-input-container>
        
      </div>
      
      <div layout-gt-sm="row" layout="column" class="no-padding">
        
        <md-input-container flex>
          <label>Nombre Corto</label>
          <input  name="nombrecorto" ng-model="datos.nombrecorto" required mayusculas> 
          <div ng-messages="proveedorForm.nombrecorto.$error" ng-if="proveedorForm.$submitted">
            <div ng-message="required">Campo obligatorio.</div>
          </div>
        </md-input-container>

        <md-input-container flex>
          <label>RFC</label>
          <input name="rfc" ng-model="datos.rfc" required mayusculas>
          <div ng-messages="proveedorForm.rfc.$error" ng-if="proveedorForm.$submitted">
            <div ng-message="required">Campo obligatorio.</div>
          </div> 
        </md-input-container>
        
      </div>

      <md-switch ng-model="datos.activo" aria-label="Proveedor Activo" flex>
              <span ng-show="datos.activo">Proveedor Activo</span>
              <span ng-hide="datos.activo">Proveedor Inactivo</span>
      </md-switch>

    </md-content>

    <md-subheader class="md-primary">Contacto</md-subheader>

    <md-content layout-padding>
      
      <div layout-gt-sm="row" layout="column" >
        
        <md-input-container flex>
          <label>Correo para orden de compra</label>
          <input type="email"  name="correo1" ng-model="datos.correo1" required> 
          <div ng-messages="proveedorForm.correo1.$error">
            <div ng-message="email">Correo invalido</div>
          </div>
        </md-input-container>

        <md-input-container flex>
          <label>Correo Escalamiento</label>
          <input type="email" name="correo2" ng-model="datos.correo2"> 
        </md-input-container>
        
      </div>

    </md-content>

    <md-subheader class="md-primary">Archivos</md-subheader>
    
    <md-content layout-gt-sm="row" layout="column"  layout-padding>
      <div class="drop-box"  ngf-drop accept="image/*" ngf-drag-over-class="dragover" ngf-multiple="true" ngf-pattern="'image/*" ngf-change="upload($files, $file, $event)" flex>
          <md-button type="button" class="md-raised" accept="image/*" ngf-select="upload($files)" ngf-change="upload($files, $file, $event)" multiple="multiple" ngf-pattern="'image/*">Subir Imagenes</md-button><br>
          Arrastra tus archivos aqui
      </div>

      <md-list flex>
        <md-list-item class="md-3-line relative" ng-repeat="file in imagenes">
          <img ngf-src="file" class="face"  ng-mouseover="ver = true" ng-mouseleave="ver = false">
          <md-button type="button" class="md-fab boton abajo-derecho" ng-click="eliminaImagen($index)" ng-mouseover="ver = true" ng-show="ver" aria-label="Eliminar Imagen">
              <ng-md-icon icon="delete" style="fill:white"></ng-md-icon> 
          </md-button>
          <md-divider md-inset ng-if="!$last"></md-divider>
        </md-list-item>


        <md-list-item class="md-3-line relative" ng-repeat="file in imagenesguardadas">
          <img ng-src="{{file}}" class="face"  ng-mouseover="ver = true" ng-mouseleave="ver = false">
          <md-button type="button" class="md-fab boton abajo-derecho" ng-click="eliminaImagenGuardada($index)" ng-mouseover="ver = true" ng-show="ver" aria-label="Eliminar Imagen">
              <ng-md-icon icon="delete" style="fill:white"></ng-md-icon> 
          </md-button>
          <md-divider md-inset ng-if="!$last"></md-divider>
        </md-list-item>

        
      </md-list>
      
    </md-content>


    <div layout="row" layout-align="center center">
      <md-progress-circular md-mode="indeterminate" ng-show="guardando"></md-progress-circular>
      <md-button id="nuevo" class="md-fab boton" ng-click="" aria-label="Guardar" type="submit" ng-hide="guardando" ng-disabled="proveedorForm.$invalid">
          <md-tooltip md-direction="top">
            Guardar
          </md-tooltip>
          <ng-md-icon icon="check" style="fill:white"></ng-md-icon> 
      </md-button>
    </div>
    
    </form>
    <br>
    <br>

  </md-whiteframe>

</div>