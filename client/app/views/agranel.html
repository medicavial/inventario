<div layout="column" >

    <md-data-table-toolbar class="md-whiteframe-z1">
      <md-input-container md-no-float flex class="no-padding">
        <md-icon>
          <ng-md-icon icon="search" style="fill:#3F51B5"></ng-md-icon> 
        </md-icon>
        <input ng-model="query" type="text" placeholder="Buscar Movimiento" mayusculas flex>
      </md-input-container>
      <md-button class="md-icon-button" aria-label="limpiar" ng-show="query" ng-click="query = ''">
        <ng-md-icon icon="close" style="fill:#3F51B5"></ng-md-icon> 
      </md-button>
    </md-data-table-toolbar>
    <br>
    <md-data-table-container class="md-whiteframe-z1">
      <table md-data-table>
        <thead md-order="agranel.order" md-trigger="agranel.onOrderChange">
          <tr>
            <th name="ID"  order-by="ITE_clave"></th>
            <th name="Codigo" order-by="ITE_codigo"></th>
            <th name="Item" order-by="ITE_nombre"></th>
            <th name="Almacen"  order-by="ALM_nombre"></th>
            <th name="Tipo"  order-by="TIM_nombre"></th>
            <th name="Registro"  order-by="USU_login"></th>
            <th name="# orden"  order-by="OCM_clave"></th>
            <th name="Cantidad" order-by="MOV_cantidad"></th>
            <th name="Fecha"  order-by="created_at"></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="movimiento in agranel.info |filter:query | orderBy: agranel.order | limitTo: agranel.limit: (agranel.page - 1) * agranel.limit">
            <td>{{movimiento.MOV_clave}}</td>
            <td>{{movimiento.ITE_codigo}}</td>
            <td>{{movimiento.ITE_nombre}}</td>
            <td>{{movimiento.ALM_nombre}}</td>
            <td>{{movimiento.TIM_nombre}}</td>
            <td>{{movimiento.USU_login}}</td>
            <td>{{movimiento.OCM_clave}}</td>
            <td> <span ng-if="movimiento.TIM_clave == 1"> * </span><span ng-if="movimiento.TIM_clave == 2"> + </span><span ng-if="movimiento.TIM_clave == 3"> - </span> {{movimiento.MOV_cantidad}}</td>
            <td>{{movimiento.created_at}}</td>
          </tr>
        </tbody>
      </table>
    </md-data-table-container>
    <br>
    <md-data-table-pagination md-label="agranel.texto" md-row-select="agranel.paginacion" md-limit="agranel.limit" md-page="agranel.page" md-total="{{agranel.info.length}}"></md-data-table-pagination>


</div>

<md-button id="nuevo" class="animated bounceInUp md-fab md-fab-bottom-right" ng-click="agranel.nuevo($event)" aria-label="Nuevo Estado">
    <md-tooltip md-direction="top">
      Nuevo
    </md-tooltip>
    <ng-md-icon icon="add" style="fill:white" ng-hide="agranel.loading"></ng-md-icon> 
    <md-progress-circular class="md-accent md-hue-1" md-mode="indeterminate" ng-if="agranel.loading"></md-progress-circular>
</md-button>