<div layout="column" ng-init="ordenes.inicio()">
    
    <md-content ng-if="ordenes.nuevaBusqueda" class="md-whiteframe-5dp white" layout-gt-sm="row" layout="column" layout-padding>
        
        <div layout="column">

          <md-subheader class="c-bluegray">Accesos Directos</md-subheader>  
          <md-divider class="bgm-bluegray"></md-divider>
          
          <div layout="column" layout-md="row" layout-sm="column" layout-padding layout-align="center center">

              <md-button class="md-raised" ng-click="ordenes.surtidos()">Surtidos ultimos 30 dias</md-button>

              <md-button class="md-raised" ng-click="ordenes.registrados()">Registros ultimos 30 dias</md-button>

              <md-button class="md-raised" ng-click="ordenes.cancelados()">Cancelados ultimos 30 dias</md-button>

          </div>
          
        </div>

        <div layout="column" flex>

          <md-subheader class="c-bluegray">X Referencia</md-subheader>  
          <md-divider class="bgm-bluegray"></md-divider>
          <md-select ng-model="ordenes.datos.unidad" md-on-close="ordenes.cargaAlmacenes(ordenes.datos.unidad)"  placeholder="Selecciona Unidad" flex>
            <md-option ng-repeat="unidad in ordenes.unidades" ng-value="{{unidad.UNI_clave}}">{{unidad.UNI_nombre}}</md-option>
          </md-select>

          <md-subheader class="c-bluegray">X Item especifico</md-subheader>  
          <md-divider class="bgm-bluegray"></md-divider>
          <md-select ng-model="ordenes.datos.item" placeholder="Selecciona Item" flex>
            <md-option ng-repeat="item in ordenes.items" ng-click="ordenes.agregaItem(item.ITE_nombre)" ng-value="{{item.ITE_clave}}">{{item.ITE_nombre}}</md-option>
          </md-select>

        </div>

        <div layout="column" flex>

          <md-subheader class="c-bluegray">X Fechas</md-subheader>  
          <md-divider class="bgm-bluegray"></md-divider>
          
          <div layout="column" layout-padding layout-align="center center">

              <div layout="column" layout-md="row" layout-sm="column">
                  <md-radio-group ng-model="ordenes.datos.tipo">
                    <md-radio-button value="">Registro</md-radio-button>
                    <md-radio-button value="cerrado">Cerrado</md-radio-button>
                    <md-radio-button value="surtido">Surtido</md-radio-button>
                    <md-radio-button value="cancelacion">Cancelacion</md-radio-button>
                  </md-radio-group>
                  <br>
              </div>
              <div layout="column">
                  <md-datepicker ng-model="ordenes.datos.fechaini" md-placeholder="Fecha Inicial"></md-datepicker>

                  <md-datepicker ng-model="ordenes.datos.fechafin" md-min-date="ordenes.datos.fechaini" md-placeholder="Fecha Final"></md-datepicker>
              </div>

          </div>
        </div>

        <div layout="column" flex>
          

          <md-subheader class="c-bluegray">X Estatus</md-subheader>  
          <md-divider class="bgm-bluegray"></md-divider>
          
          <md-radio-group ng-model="ordenes.datos.estatus" layout-padding>
            <md-radio-button value="">Todas</md-radio-button>
            <md-radio-button value="abiertas">Abiertas</md-radio-button>
            <md-radio-button value="incompletas">Incompletas</md-radio-button>
            <md-radio-button value="cerradas">Cerradas</md-radio-button>
            <md-radio-button value="canceladas">Canceladas</md-radio-button>
          </md-radio-group>
          <br>

        </div>
        
        <div layout="column" layout-paddin layout-align="center center">
          <md-progress-circular md-mode="indeterminate" ng-if="ordenes.consultando"></md-progress-circular>
          <md-button class="md-raised md-primary" ng-if="!ordenes.consultando" ng-click="ordenes.buscar()">Buscar</md-button>
        </div>

    </md-content>


    <div flex ng-if="ordenes.info.length > 0">
      <md-data-table-container class="md-whiteframe-z1">
        <table md-data-table>
          <thead md-order="ordenes.order" md-trigger="ordenes.onOrderChange">
            <tr>
              <th name="No."  order-by="id"></th>
              <th name="Alta Orden"  order-by="AltaOrden"></th>
              <th name="Ultimo Movimiento"  order-by="UltimoMovimiento"></th>
              <th name="Proveedor" order-by="proveedor"></th>
              <th name="Usuario Alta"  order-by="UsuarioCreo"></th>
              <th name="Usuario Surtio"  order-by="UsuarioSurtio"></th>
              <th name="Importe Esperado" order-by="importeEsperado"></th>
              <th name="Importe Final" order-by="importeFinal"></th>
              <th name="Estatus" order-by="Estatus"></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="orden in ordenes.info |filter:query | orderBy: ordenes.order | limitTo: ordenes.limit: (ordenes.page - 1) * ordenes.limit">
              <td>{{orden.id}}</td>
              <td>{{orden.AltaOrden}}</td>
              <td>{{orden.UltimoMovimiento}}</td>
              <td>{{orden.proveedor}}</td>
              <td>{{orden.UsuarioCreo}}</td>
              <td>{{orden.UsuarioSurtio}}</td>
              <td>{{orden.importeEsperado | currency}}</td>
              <td>{{orden.importeFinal | currency}}</td>
              <td>{{orden.Estatus}}</td>
            </tr>
          </tbody>
        </table>
      </md-data-table-container>
      <br>
      <md-data-table-pagination md-label="ordenes.texto" md-row-select="ordenes.paginacion" md-limit="ordenes.limit" md-page="ordenes.page" md-total="{{ordenes.info.length}}"></md-data-table-pagination>
      
    </div>
    <br>

  
</div>

<md-button id="nuevo" ng-if="ordenes.info.length > 0" class="animated bounceInUp md-fab md-fab-bottom-right" ng-click="ordenes.opciones()" aria-label="Opciones">
    <md-tooltip md-direction="top">
      Opciones
    </md-tooltip>
    <ng-md-icon icon="assignment_returned" style="fill:white"></ng-md-icon> 
</md-button>
