<md-dialog aria-label="Nuevo Estado" ng-init="inicio()" flex-sm="65" flex-gt-md="40" flex="100">

  <md-toolbar class="md-warn">
    <div class="md-toolbar-tools">
      <h2>Nuevo Perfil</h2>
      <span flex></span>
      <md-button  class="md-icon-button" ng-click="cancel()">
        <!-- <md-icon md-svg-src="img/icons/ic_close_24px.svg" aria-label="Cerrar Ventana"></md-icon> -->
        <ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> 
      </md-button>
    </div>
  </md-toolbar>

  <form name="perfilForm" novalidate ng-submit="guardar()">

  <md-dialog-content layout-padding>

      <md-content layout="column">
        <md-input-container>
          <label>Nombre</label>
          <input required name="nombre" ng-model="datos.nombre" mayusculas>
          <div ng-messages="perfilForm.nombre.$dirty && perfilForm.nombre.$error">
            <div ng-message="required">Campo obligatorio.</div>
          </div>
        </md-input-container>

        <fieldset>
          <legend>Permisos de Perfil</legend>
        </fieldset>

        <div layout-gt-sm="row" layout="column" layout-padding>
            
            <div layout="column" flex>
                <md-checkbox ng-model="datos.alertas" aria-label="Entrdas">
                  Configurar Alertas
                </md-checkbox>
                <md-checkbox ng-model="datos.conexion" aria-label="Asociar usuarios a almacen">
                  Crear Conexiones
                </md-checkbox>
                <md-checkbox ng-model="datos.movimientos" aria-label="Entrdas">
                  Movimientos
                </md-checkbox>
                <md-checkbox ng-model="datos.traspasos" aria-label="Traspasos">
                  Traspasos
                </md-checkbox>
                <md-checkbox ng-model="datos.generaOrden" aria-label="Autoriza orden">
                  Generar Orden de compra
                </md-checkbox>
                <md-checkbox ng-model="datos.surtirOrden" aria-label="Surtir">
                  Surtir Orden de Compra
                </md-checkbox>
                <md-checkbox ng-model="datos.cerrarOrden" aria-label="Cerrar orden">
                  Cerrar Orden de compra
                </md-checkbox>
                <md-checkbox ng-model="datos.completaOrden" aria-label="Modificar orden de compra">
                  Completar Orden de Compra
                </md-checkbox>
            </div>
            <div layout="column" flex>
                <md-checkbox ng-model="datos.salidasAgranel" aria-label="Salidas">
                  Salidas A Granel
                </md-checkbox>
                <md-checkbox ng-model="datos.recetaMV" aria-label="Subir Factura">
                  Surtir Receta MV
                </md-checkbox>
                <md-checkbox ng-model="datos.usuarios" aria-label="Surtir">
                  Alta Usuarios
                </md-checkbox>
                <md-checkbox ng-model="datos.perfiles" aria-label="Surtir">
                  Alta Perfiles
                </md-checkbox>
                <md-checkbox ng-model="datos.tipos" aria-label="Surtir">
                  Alta Tipos Mov/Ajus/Ord
                </md-checkbox>
                <md-checkbox ng-model="datos.catalogos" aria-label="Consultar y Modificar Catalogos">
                  Consultar Catalogos
                </md-checkbox>
                <md-checkbox ng-model="datos.editaCatalogos" aria-label="Desactivar Catalogos">
                  Agregar/Modificar a Catalogos
                </md-checkbox>
                <md-checkbox ng-model="datos.reportes" aria-label="Subir Factura">
                  Reportes
                </md-checkbox>
            </div>

        </div>
      
        <div layout="row" layout-sm="column" layout-fill>

          <md-switch ng-model="datos.activo" aria-label="Usuario Activo" flex>
                <span ng-show="datos.activo">Perfil Activo</span>
                <span ng-hide="datos.activo">Perfil Inactivo</span>
          </md-switch>
          
        </div>

        <div layout="row" layout-sm="column" layout-align="space-around" ng-show="guardando">
          <md-progress-circular md-mode="indeterminate"></md-progress-circular>
        </div>

      </md-content>
    
  </md-dialog-content>
  <div class="md-actions" layout="row">

    <span flex></span>
    <md-button type="button" ng-click="cancel()">
        Salir
    </md-button>
    <md-button type="submit" ng-disabled="guardando">
        Guardar
    </md-button>
  </div>

  </form>
</md-dialog>